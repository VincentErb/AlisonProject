



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.2.0">
    
    
      
        <title>Registering new sounds - The Alison Project - Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.750b69bd.css">
      
      
    
    
      <script src="../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#registering-new-sounds" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
        <nav class="md-header-nav md-grid" height="62px">
          <div class="md-flex">
          
            <div class="md-flex__cell md-flex__cell--shrink">
              <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
                <a href="../index.html">
                  Home
                </a> 
             </div>  
            </div>
            
            
            <div class="md-flex__cell md-flex__cell--shrink">
              <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch">
              <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
                
                  <span class="md-header-nav__topic">
                    The Alison Project - Documentation
                  </span>
                
              </div>
            </div>
      
      
            <div class="md-flex__cell md-flex__cell--shrink">
              
                <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
      
                
                
      <div class="md-search" data-md-component="search" role="dialog">
        <label class="md-search__overlay" for="__search"></label>
        <div class="md-search__inner" role="search">
          <form class="md-search__form" name="search">
            <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
            <label class="md-icon md-search__icon" for="__search"></label>
            <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
              &#xE5CD;
            </button>
          </form>
          <div class="md-search__output">
            <div class="md-search__scrollwrap" data-md-scrollfix>
              <div class="md-search-result" data-md-component="result">
                <div class="md-search-result__meta">
                  Type to start searching
                </div>
                <ol class="md-search-result__list"></ol>
              </div>
            </div>
          </div>
        </div>
      </div>
              
            </div>
            
          </div>
        </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href=".." title="The Alison Project - Documentation" class="md-nav__button md-logo">
      
        <i class="md-icon">î Œ</i>
      
    </a>
    The Alison Project - Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../App/" title="The Alison Project Android Application" class="md-nav__link">
      The Alison Project Android Application
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../GetStarted/" title="Get Started" class="md-nav__link">
      Get Started
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Registering new sounds
      </label>
    
    <a href="./" title="Registering new sounds" class="md-nav__link md-nav__link--active">
      Registering new sounds
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#audio-file-treatement" title="Audio file treatement" class="md-nav__link">
    Audio file treatement
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#feature-extraction" title="Feature extraction" class="md-nav__link">
    Feature extraction
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Libraries/" title="Resources and Libraries" class="md-nav__link">
      Resources and Libraries
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../NoticeNMF/" title="Non-Negative Matrix Factorization" class="md-nav__link">
      Non-Negative Matrix Factorization
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#audio-file-treatement" title="Audio file treatement" class="md-nav__link">
    Audio file treatement
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#feature-extraction" title="Feature extraction" class="md-nav__link">
    Feature extraction
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="registering-new-sounds">Registering new sounds</h1>
<p>Any sound to be recognized by the system has to be recorded 4-5 times. The test samples are then treated to be used as dictionnary in the detection process. <br />
The following section refers to the python module : <code>learning.py</code></p>
<h2 id="audio-file-treatement">Audio file treatement</h2>
<p>We are using the Respeaker microphone to record a .WAV file from an input sound. The length of the recording is determined automatically by the Respeaker which stops recording when it detects the sound has stopped. Manual sound recording can be achieved using Respeaker's <em>record</em> function. </p>
<h2 id="feature-extraction">Feature extraction</h2>
<p>NMF only requires the Fourier Transform of a sound to detect it, so the feature extraction process is rather simple.<br />
We load the .WAV file using Librosa*, and then compute the STFT (Short Term Fourier Transform) on the entire audio signal. This returns a 2D numpy array and the spectrogram obtained can be displayed in the learning module.</p>
<pre><code class="python">def get_stft_from_file(wav):
    y, sample_rate = librosa.load(wav)
    return get_stft(y)

def get_stft(data):
    # Window size : 1024 -&gt; around 47 ms, rather standard for FFT
    m = np.abs(librosa.stft(data, n_fft=1024, window='hann'))
    return m
</code></pre>

<p>We used a standard Fourier Transform sampling rate, and a hanning window with overlapping to maintain information integrity. <br />
The matrix is then given to NMF to be used in the dictionnary matrix.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../GetStarted/" title="Get Started" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Get Started
              </span>
            </div>
          </a>
        
        
          <a href="../Libraries/" title="Resources and Libraries" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Resources and Libraries
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.39abc4af.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
    
  </body>
</html>